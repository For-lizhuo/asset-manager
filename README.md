# èµ„äº§ç®¡å®¶ - ç§»åŠ¨ç«¯èµ„äº§ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº React + TypeScript + Vite æ„å»ºçš„ç§»åŠ¨ç«¯èµ„äº§ç®¡ç†åº”ç”¨ï¼Œå¸®åŠ©ç”¨æˆ·è½»æ¾ç®¡ç†å„ç±»æŠ•èµ„èµ„äº§ã€‚è¯¥åº”ç”¨æä¾›äº†ç›´è§‚çš„èµ„äº§æ¦‚è§ˆã€è¯¦ç»†çš„èµ„äº§é…ç½®ç®¡ç†ã€æŒä»“è·Ÿè¸ªä»¥åŠä¾¿æ·çš„æ•°æ®å¯¼å…¥å¯¼å‡ºåŠŸèƒ½ã€‚

## ğŸš€ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite 7
- **UIç»„ä»¶åº“**: Ant Design Mobile 5.39.0
- **çŠ¶æ€ç®¡ç†**: Zustand 5.0.8
- **è·¯ç”±ç®¡ç†**: React Router v7
- **æ ·å¼æ–¹æ¡ˆ**: Less CSS é¢„å¤„ç†å™¨
- **æ•°æ®å­˜å‚¨**: IndexedDB
- **æ•°æ®å¯è§†åŒ–**: ECharts 6.0.0
- **ä»£ç è§„èŒƒ**: ESLint + TypeScript ESLint

## ğŸ“± æ ¸å¿ƒåŠŸèƒ½

### èµ„äº§ç®¡ç†
- ğŸ“Š **èµ„äº§æ€»è§ˆ**: å®æ—¶æ˜¾ç¤ºæ€»èµ„äº§ä»·å€¼å’Œåˆ†å¸ƒå›¾è¡¨
- ğŸ“ **èµ„äº§é…ç½®**: æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤èµ„äº§ç±»åˆ«ï¼Œè®¾ç½®ç›®æ ‡å æ¯”
- ğŸ’° **æŒä»“ç®¡ç†**: ç®¡ç†å…·ä½“æŠ•èµ„äº§å“å’ŒæŒä»“é‡‘é¢
- ğŸ“ˆ **å æ¯”è·Ÿè¸ª**: å®æ—¶è®¡ç®—å®é™…å æ¯”ä¸ç›®æ ‡å æ¯”å¯¹æ¯”

### æ•°æ®ç®¡ç†
- ğŸ“¤ **æ•°æ®å¯¼å‡º**: æ”¯æŒå°†èµ„äº§å’ŒæŒä»“æ•°æ®å¯¼å‡ºä¸ºJSONæ–‡ä»¶
- ğŸ“¥ **æ•°æ®å¯¼å…¥**: ä»JSONæ–‡ä»¶å¯¼å…¥æ•°æ®ï¼Œæ”¯æŒæ•°æ®è¿ç§»
- ğŸ’¾ **æœ¬åœ°å­˜å‚¨**: ä½¿ç”¨IndexedDBè¿›è¡Œæ•°æ®æŒä¹…åŒ–
- â™»ï¸ **æ•°æ®è¿ç§»**: è‡ªåŠ¨ä»localStorageè¿ç§»æ—§æ•°æ®

### UI/UXç‰¹æ€§
- ğŸ“± **ç§»åŠ¨ç«¯ä¼˜åŒ–**: é’ˆå¯¹æ‰‹æœºå±å¹•ä¼˜åŒ–çš„ç•Œé¢è®¾è®¡
- ğŸ¨ **ç°ä»£è®¾è®¡**: ç®€æ´ç¾è§‚çš„å¡ç‰‡å¼è®¾è®¡
- âš¡ **æµç•…äº¤äº’**: æ‚¬æµ®æŒ‰é’®ã€å¼¹çª—æ“ä½œç­‰ç°ä»£äº¤äº’
- ğŸ‘ï¸ **éšç§ä¿æŠ¤**: é‡‘é¢æ˜¾ç¤º/éšè—åˆ‡æ¢åŠŸèƒ½
- ğŸ“Š **æ•°æ®å¯è§†åŒ–**: EChartsé¥¼å›¾å±•ç¤ºèµ„äº§åˆ†å¸ƒ

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/              # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ AssetPieChart/       # èµ„äº§åˆ†å¸ƒé¥¼å›¾ç»„ä»¶
â”‚   â””â”€â”€ Layout/              # ä¸»å¸ƒå±€ç»„ä»¶
â”œâ”€â”€ pages/                   # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Home/                # é¦–é¡µï¼ˆèµ„äº§æ¦‚è§ˆï¼‰
â”‚   â”œâ”€â”€ AddAsset/            # æ·»åŠ èµ„äº§é¡µé¢
â”‚   â”œâ”€â”€ AddHolding/          # æ·»åŠ æŒä»“é¡µé¢
â”‚   â”œâ”€â”€ AssetDetail/         # èµ„äº§è¯¦æƒ…é¡µé¢
â”‚   â””â”€â”€ EditAsset/           # ç¼–è¾‘èµ„äº§é¡µé¢
â”œâ”€â”€ db/                      # æ•°æ®åº“ç›¸å…³
â”‚   â”œâ”€â”€ indexedDB.ts         # IndexedDBæ“ä½œå°è£…
â”‚   â””â”€â”€ dataExportImport.ts  # æ•°æ®å¯¼å…¥å¯¼å‡ºåŠŸèƒ½
â”œâ”€â”€ stores/                  # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ index.ts             # Zustandå…¨å±€çŠ¶æ€
â”œâ”€â”€ router/                  # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.tsx            # è·¯ç”±å®šä¹‰
â”œâ”€â”€ App.tsx                  # åº”ç”¨å…¥å£
â”œâ”€â”€ main.tsx                 # æ¸²æŸ“å…¥å£
â”œâ”€â”€ index.css                # æ ·å¼å…¥å£
â””â”€â”€ vite-env.d.ts           # ç±»å‹å£°æ˜æ–‡ä»¶
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18
- npm >= 8

### å¿«é€Ÿå¼€å§‹

1. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   ```
   
3. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**
   ```bash
   npm run build
   ```

4. **é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬**
   ```bash
   npm run preview
   ```

### å¼€å‘é…ç½®

- **å¼€å‘æœåŠ¡å™¨**: http://localhost:3000
- **åŸºç¡€è·¯å¾„**: /asset-manager/
- **ç§»åŠ¨ç«¯è°ƒè¯•**: æœåŠ¡å™¨å·²é…ç½®host=trueï¼Œå¯é€šè¿‡å±€åŸŸç½‘IPè®¿é—®
- **çƒ­é‡è½½**: æ”¯æŒç»„ä»¶çƒ­é‡è½½ï¼Œä¿®æ”¹ä»£ç å³æ—¶ç”Ÿæ•ˆ

## ğŸ“¦ çŠ¶æ€ç®¡ç†

ä½¿ç”¨Zustandè¿›è¡Œè½»é‡çº§çŠ¶æ€ç®¡ç†ï¼Œä¸»è¦çŠ¶æ€åŒ…æ‹¬ï¼š

### æ•°æ®çŠ¶æ€
- **assets**: èµ„äº§åˆ—è¡¨ï¼ˆåç§°ã€ç›®æ ‡å æ¯”ç­‰ï¼‰
- **holdings**: æŒä»“åˆ—è¡¨ï¼ˆäº§å“åç§°ã€ä»£ç ã€é‡‘é¢ã€å½’å±èµ„äº§ç­‰ï¼‰
- **totalAssetValue**: æ€»èµ„äº§ä»·å€¼ï¼ˆå®æ—¶è®¡ç®—ï¼‰

### UIçŠ¶æ€
- **loading**: åŠ è½½çŠ¶æ€
- **currentPage**: å½“å‰é¡µé¢è·¯å¾„
- **initialized**: åº”ç”¨åˆå§‹åŒ–çŠ¶æ€

### æ“ä½œæ–¹æ³•
- **èµ„äº§æ“ä½œ**: addAssetã€updateAssetã€deleteAsset
- **æŒä»“æ“ä½œ**: addHoldingã€updateHoldingã€deleteHolding
- **æ•°æ®ç®¡ç†**: initializeAppã€reloadDataã€calculateTotalValue

æ•°æ®é€šè¿‡IndexedDBæŒä¹…åŒ–ä¿å­˜ï¼Œåº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨ä»localStorageè¿ç§»æ—§æ•°æ®ã€‚

## ğŸ¨ æ ·å¼ç³»ç»Ÿ

- **Less CSS**: CSSé¢„å¤„ç†å™¨ï¼Œæ”¯æŒå˜é‡ã€åµŒå¥—ã€æ··åˆç­‰ç‰¹æ€§
- **æ¨¡å—åŒ–æ ·å¼**: æ¯ä¸ªç»„ä»¶éƒ½æœ‰ç‹¬ç«‹çš„æ ·å¼æ–‡ä»¶
- **ç§»åŠ¨ç«¯é€‚é…**: å“åº”å¼è®¾è®¡ï¼Œé’ˆå¯¹ç§»åŠ¨ç«¯ä¼˜åŒ–

## ğŸ“ å¼€å‘è§„èŒƒ

### æ–‡ä»¶ç»“æ„è§„èŒƒ
- **ç»„ä»¶æ–‡ä»¶å¤¹**: æ¯ä¸ªç»„ä»¶åŒ…å« `index.tsx` å’Œæ ·å¼æ–‡ä»¶
- **é¡µé¢æ–‡ä»¶å¤¹**: æ¯ä¸ªé¡µé¢åŒ…å« `index.tsx` å’Œæ ·å¼æ–‡ä»¶
- **æ•°æ®åº“é€»è¾‘**: æ‰€æœ‰æ•°æ®åº“ç›¸å…³é€»è¾‘æ”¾åœ¨ [db/](/asset-manager/src/db) æ–‡ä»¶å¤¹ä¸‹

### ä»£ç è§„èŒƒ
- **ç»„ä»¶å‘½å**: PascalCase
- **ç±»å‹å®šä¹‰**: ä½¿ç”¨TypeScriptæ¥å£å®šä¹‰æ•°æ®æ¨¡å‹
- **IDç”Ÿæˆ**: ä½¿ç”¨UUIDç¡®ä¿å”¯ä¸€æ€§
- **å æ¯”æ˜¾ç¤º**: ä½¿ç”¨Math.round()å°†å æ¯”å››èˆäº”å…¥ä¸ºæ•´æ•°

### æ•°æ®æ¨¡å‹
```typescript
// èµ„äº§æ¨¡å‹
interface Asset {
  id: string
  name: string
  targetRatio?: number  // ç›®æ ‡å æ¯”ï¼ˆ0-100æ•´æ•°ï¼‰
  createdAt: string
  updatedAt: string
}

// æŒä»“æ¨¡å‹
interface Holding {
  id: string
  name: string
  code?: string         // äº§å“ä»£ç ï¼ˆå¯é€‰ï¼‰
  assetId: string       // å½’å±èµ„äº§ID
  amount: number        // æŒä»“é‡‘é¢
  institutionDetails: InstitutionDetail[] // æœºæ„æ˜ç»†
  createdAt: string
  updatedAt: string
}

// æœºæ„æ˜ç»†æ¨¡å‹
interface InstitutionDetail {
  institution: string   // æœºæ„åç§°
  amount: number        // é‡‘é¢
}
```

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

- `vite.config.ts`: Viteæ„å»ºé…ç½®
- `tsconfig.json`: TypeScripté…ç½®
- `eslint.config.js`: ESLintè§„åˆ™é…ç½®
- `package.json`: é¡¹ç›®ä¾èµ–å’Œè„šæœ¬é…ç½®
- `config.ts`: é¡¹ç›®åŸºç¡€è·¯å¾„é…ç½®

## ğŸ’¾ æ•°æ®å­˜å‚¨

### IndexedDB æ•°æ®åº“
- **assetsè¡¨**: å­˜å‚¨èµ„äº§ä¿¡æ¯
- **holdingsè¡¨**: å­˜å‚¨æŒä»“ä¿¡æ¯
- **è‡ªåŠ¨è¿ç§»**: åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨ä»localStorageè¿ç§»æ•°æ®
- **CRUDæ“ä½œ**: å®Œæ•´çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½å°è£…

### æ•°æ®å¯¼å…¥å¯¼å‡º
- **å¯¼å‡ºæ ¼å¼**: JSONæ ¼å¼ï¼ŒåŒ…å«ç‰ˆæœ¬ä¿¡æ¯å’Œæ—¶é—´æˆ³
- **å¯¼å…¥éªŒè¯**: ä¸¥æ ¼çš„æ•°æ®æ ¼å¼éªŒè¯
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯æç¤ºå’Œå¼‚å¸¸å¤„ç†

## ğŸ“± ç§»åŠ¨ç«¯ç‰¹æ€§

- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸çš„ç§»åŠ¨è®¾å¤‡
- **è§¦æ‘¸ä¼˜åŒ–**: æŒ‰é’®å¤§å°ã€é—´è·ç¬¦åˆç§»åŠ¨ç«¯è§„èŒƒ
- **æ‚¬æµ®æ“ä½œ**: æ‚¬æµ®è®¾ç½®æŒ‰é’®ï¼Œä¾¿äºå¿«é€Ÿè®¿é—®åŠŸèƒ½
- **æ‰‹åŠ¿äº¤äº’**: æ”¯æŒå¡ç‰‡ç‚¹å‡»ã€æ»‘åŠ¨ç­‰æ“ä½œ
- **æ•°æ®å¯è§†åŒ–**: ç§»åŠ¨ç«¯ä¼˜åŒ–çš„EChartså›¾è¡¨å±•ç¤º
- **å¼¹çª—äº¤äº’**: ActionSheetã€Dialogç­‰ç§»åŠ¨ç«¯å‹å¥½çš„äº¤äº’ç»„ä»¶

## ğŸš€ éƒ¨ç½²è¯´æ˜

1. **æ„å»ºé¡¹ç›®**
   ```bash
   npm run build
   ```

2. **éƒ¨ç½²è¾“å‡º**
   æ„å»ºå®Œæˆåï¼Œç”Ÿæˆçš„é™æ€æ–‡ä»¶ä½äº `dist` ç›®å½•ä¸­ï¼Œå¯ä»¥éƒ¨ç½²åˆ°ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨ã€‚

3. **åŸºç¡€è·¯å¾„**
   é¡¹ç›®é…ç½®äº†åŸºç¡€è·¯å¾„ `/asset-manager/`ï¼Œå¦‚éœ€æ›´æ”¹ï¼Œè¯·ä¿®æ”¹ [config.ts](file:///e:/desktop/web/asset-manager/config.ts) æ–‡ä»¶ä¸­çš„ `rootPath` å˜é‡ï¼Œå¹¶ç›¸åº”è°ƒæ•´ [vite.config.ts](file:///e:/desktop/web/asset-manager/vite.config.ts) ä¸­çš„é…ç½®ã€‚

## ğŸ“„ è®¸å¯è¯

MIT License